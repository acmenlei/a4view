function t(t){var e=document.querySelector(t);return e||(console.error(" ".concat(t," is an invalid container ")),null)}function e(){return document.createElement("div")}var r=1123,n="WHITE_SPACE";function a(t){var e=getComputedStyle(t);return t.clientHeight+(+e.getPropertyValue("margin-top").slice(0,-2)+ +e.getPropertyValue("margin-bottom").slice(0,-2))}function o(t,e){for(var r=t.offsetTop,n=t.offsetParent;n!==e;)r+=n.offsetTop,n=n.offsetParent;return r}function i(t){l(t),u(t);for(var n=0,a=0,o=t.clientHeight,i=[];o-a>0;){var p=e(),c=t.cloneNode(!0);p.classList.add("page-wrapper");var s=Math.min(o-a,r),d=e();d.classList.add("page-wrapper-item"),d.style.height=s+"px",c.style.position="absolute",c.style.top=-n*r+"px",c.style.left="0px",d.appendChild(c),p.appendChild(d),a+=r,n++,i.push(p)}return i}function l(t){for(var e=0,r=Array.from(t.children);e<r.length;e++){var a=r[e];a.getAttribute(n)?t.removeChild(a):l(a)}}function p(t){var r=e();return r.setAttribute(n,"true"),r.style.height=t+"px",r}function u(t){var e=+getComputedStyle(t).getPropertyValue("padding-top").slice(0,-2),n=+getComputedStyle(t).getPropertyValue("padding-bottom").slice(0,-2);console.log(e,n);for(var i={value:1},l=0,u=Array.from(t.children);l<u.length;l++){var s=u[l],d=a(s),g=o(s,t);g+d>r*i.value-n&&(s.children.length?c(s,t,e,n,i):(t.insertBefore(p(r*i.value-g+e),s),++i.value))}return t}function c(t,e,n,i,l){for(var u=0,s=Array.from(t.children);u<s.length;u++){var d=s[u],g=a(d),h=o(d,e);h+g>r*l.value-i&&(d.children.length&&!["p","li"].includes(d.tagName.toLocaleLowerCase())?c(d,e,n,i,l):(t.insertBefore(p(r*l.value-h+n),d),l.value++))}}function s(t,e){if(!document.head.querySelector("style[A4View]")){var r=document.createElement("style");r.setAttribute("A4View","true"),r.textContent=":root {\n    --A4_width: 794px;\n    --A4_height: 1123px;\n  }\n  .page-wrapper {\n    height: var(--A4_height);\n    width: var(--A4_width);\n    margin-bottom: ".concat(e,"px;\n    background: ").concat(t,";\n    position: relative;\n  }\n\n  .page-wrapper-item {\n    width: var(--A4_width);\n    overflow: hidden;\n    position: relative;\n    background: ").concat(t,";\n  }"),document.head.appendChild(r)}}var d=function(){function e(e){if("string"==typeof e.target){var r=t(e.target);if(!r)return;this.targetContainer=r}else this.targetContainer=e.target;this.setBackground(e.background||"white"),this.setA4Gap(e.pageGap||10),s(this.background,this.pageGap)}return e.prototype.render=function(e){var r=t(e);if(r){r.innerHTML="",this.previewContainer=r;for(var n=0,a=i(this.targetContainer);n<a.length;n++){var o=a[n];r.appendChild(o)}}},e.prototype.setBackground=function(t){this.background=t},e.prototype.setA4Gap=function(t){this.pageGap=t},e.prototype.root=function(){return this.targetContainer},e}();export{d as default,u as handlerWhiteBoundary,i as splitPage};
